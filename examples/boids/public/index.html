<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Boids Example</title>

    <style>
      html, body {
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
    <div id="elm"></div>

    <!-- compiled elm code -->
    <script src="./main.js"></script>

    <!-- config helper -->
    <script src="./config.js"></script>

    <script>
      ElmConfigUi.init({
        filepath: "./config.json",
        localStorageKey: "config_example_boids",
        callback: function(elmConfigUiData) {
          // start main Elm app
          console.log("FLAGGIES", elmConfigUiData);
          let app = Elm.Main.init({
            node: document.getElementById("elm"),
            flags: {
              elmConfigUiData: elmConfigUiData,
              timestamp: Date.now(),
            },
          });
        }
      });

      //app.ports.sendToPort.subscribe(function(effect) {
      //  switch (effect.id) {
      //    case "SAVE":
      //      localStorage.setItem(
      //        LOCALSTORAGE_KEY,
      //        JSON.stringify(effect.val),
      //      );
      //      break;
      //    case "CONFIG":
      //      ConfigForm.receivePortMsg(effect.val, node);
      //      break;
      //    case "COPY_CONFIG":
      //      let configJson = JSON.stringify(effect.val);
      //      window.prompt("Copy and paste to your config.json.", configJson);
      //      break;
      //    default:
      //      console.error("Unknown Effect", effect);
      //  }
      //});
    </script>

    <script>
      // https://github.com/mrdoob/stats.js/
      //(function(){var script=document.createElement('script');script.onload=function(){var stats=new Stats();document.body.appendChild(stats.dom);requestAnimationFrame(function loop(){stats.update();requestAnimationFrame(loop)});};script.src='//mrdoob.github.io/stats.js/build/stats.min.js';document.head.appendChild(script);})()
    </script>
  </body>
</html>
